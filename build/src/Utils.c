/* Utils.c generated by valac 0.34.9, the Vala compiler
 * generated from Utils.vala, do not modify */

/* Copyright 2015 Marcus Wichelmann
*
* This file is part of Configurator.
*
* Configurator is free software: you can redistribute it
* and/or modify it under the terms of the GNU General Public License as
* published by the Free Software Foundation, either version 3 of the
* License, or (at your option) any later version.
*
* Configurator is distributed in the hope that it will be
* useful, but WITHOUT ANY WARRANTY; without Configurator the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
* Public License for more details.
*
* You should have received a copy of the GNU General Public License along
* with Configurator. If not, see http://www.gnu.org/licenses/.
*/

#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <glib/gi18n-lib.h>

#define _g_free0(var) (var = (g_free (var), NULL))



gchar* configurator_utils_type_to_string (const GVariantType* variant_type);
gchar* configurator_utils_dup_type_to_string (const gchar* type);
gchar* configurator_utils_variant_to_string (GVariant* variant);


static glong string_strnlen (gchar* str, glong maxlen) {
	glong result = 0L;
	gchar* end = NULL;
	gchar* _tmp0_ = NULL;
	glong _tmp1_ = 0L;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	_tmp0_ = str;
	_tmp1_ = maxlen;
	_tmp2_ = memchr (_tmp0_, 0, (gsize) _tmp1_);
	end = _tmp2_;
	_tmp3_ = end;
	if (_tmp3_ == NULL) {
		glong _tmp4_ = 0L;
		_tmp4_ = maxlen;
		result = _tmp4_;
		return result;
	} else {
		gchar* _tmp5_ = NULL;
		gchar* _tmp6_ = NULL;
		_tmp5_ = end;
		_tmp6_ = str;
		result = (glong) (_tmp5_ - _tmp6_);
		return result;
	}
}


static gchar* string_substring (const gchar* self, glong offset, glong len) {
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp1_ = 0L;
	glong _tmp8_ = 0L;
	glong _tmp14_ = 0L;
	glong _tmp17_ = 0L;
	glong _tmp18_ = 0L;
	glong _tmp19_ = 0L;
	glong _tmp20_ = 0L;
	glong _tmp21_ = 0L;
	gchar* _tmp22_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp1_ = offset;
	if (_tmp1_ >= ((glong) 0)) {
		glong _tmp2_ = 0L;
		_tmp2_ = len;
		_tmp0_ = _tmp2_ >= ((glong) 0);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		glong _tmp3_ = 0L;
		glong _tmp4_ = 0L;
		glong _tmp5_ = 0L;
		_tmp3_ = offset;
		_tmp4_ = len;
		_tmp5_ = string_strnlen ((gchar*) self, _tmp3_ + _tmp4_);
		string_length = _tmp5_;
	} else {
		gint _tmp6_ = 0;
		gint _tmp7_ = 0;
		_tmp6_ = strlen (self);
		_tmp7_ = _tmp6_;
		string_length = (glong) _tmp7_;
	}
	_tmp8_ = offset;
	if (_tmp8_ < ((glong) 0)) {
		glong _tmp9_ = 0L;
		glong _tmp10_ = 0L;
		glong _tmp11_ = 0L;
		_tmp9_ = string_length;
		_tmp10_ = offset;
		offset = _tmp9_ + _tmp10_;
		_tmp11_ = offset;
		g_return_val_if_fail (_tmp11_ >= ((glong) 0), NULL);
	} else {
		glong _tmp12_ = 0L;
		glong _tmp13_ = 0L;
		_tmp12_ = offset;
		_tmp13_ = string_length;
		g_return_val_if_fail (_tmp12_ <= _tmp13_, NULL);
	}
	_tmp14_ = len;
	if (_tmp14_ < ((glong) 0)) {
		glong _tmp15_ = 0L;
		glong _tmp16_ = 0L;
		_tmp15_ = string_length;
		_tmp16_ = offset;
		len = _tmp15_ - _tmp16_;
	}
	_tmp17_ = offset;
	_tmp18_ = len;
	_tmp19_ = string_length;
	g_return_val_if_fail ((_tmp17_ + _tmp18_) <= _tmp19_, NULL);
	_tmp20_ = offset;
	_tmp21_ = len;
	_tmp22_ = g_strndup (((gchar*) self) + _tmp20_, (gsize) _tmp21_);
	result = _tmp22_;
	return result;
}


gchar* configurator_utils_type_to_string (const GVariantType* variant_type) {
	gchar* result = NULL;
	gchar* type = NULL;
	const GVariantType* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	const gchar* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	const gchar* _tmp17_ = NULL;
	gchar* _tmp18_ = NULL;
	g_return_val_if_fail (variant_type != NULL, NULL);
	_tmp0_ = variant_type;
	_tmp1_ = g_variant_type_dup_string (_tmp0_);
	type = _tmp1_;
	_tmp3_ = type;
	_tmp4_ = g_str_has_prefix (_tmp3_, "a");
	if (_tmp4_) {
		const gchar* _tmp5_ = NULL;
		gint _tmp6_ = 0;
		gint _tmp7_ = 0;
		_tmp5_ = type;
		_tmp6_ = strlen (_tmp5_);
		_tmp7_ = _tmp6_;
		_tmp2_ = _tmp7_ >= 2;
	} else {
		_tmp2_ = FALSE;
	}
	if (_tmp2_) {
		const gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
		gchar* _tmp10_ = NULL;
		gchar* _tmp11_ = NULL;
		gchar* _tmp12_ = NULL;
		gchar* _tmp13_ = NULL;
		gchar* _tmp14_ = NULL;
		gchar* _tmp15_ = NULL;
		gchar* _tmp16_ = NULL;
		_tmp8_ = type;
		_tmp9_ = string_substring (_tmp8_, (glong) 1, (glong) -1);
		_tmp10_ = _tmp9_;
		_tmp11_ = configurator_utils_dup_type_to_string (_tmp10_);
		_tmp12_ = _tmp11_;
		_tmp13_ = g_utf8_strdown (_tmp12_, (gssize) -1);
		_tmp14_ = _tmp13_;
		_tmp15_ = g_strdup_printf ("Array of %s", _tmp14_);
		_tmp16_ = _tmp15_;
		_g_free0 (_tmp14_);
		_g_free0 (_tmp12_);
		_g_free0 (_tmp10_);
		result = _tmp16_;
		_g_free0 (type);
		return result;
	}
	_tmp17_ = type;
	_tmp18_ = configurator_utils_dup_type_to_string (_tmp17_);
	result = _tmp18_;
	_g_free0 (type);
	return result;
}


gchar* configurator_utils_dup_type_to_string (const gchar* type) {
	gchar* result = NULL;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	GQuark _tmp3_ = 0U;
	static GQuark _tmp2_label0 = 0;
	static GQuark _tmp2_label1 = 0;
	static GQuark _tmp2_label2 = 0;
	static GQuark _tmp2_label3 = 0;
	static GQuark _tmp2_label4 = 0;
	static GQuark _tmp2_label5 = 0;
	static GQuark _tmp2_label6 = 0;
	static GQuark _tmp2_label7 = 0;
	static GQuark _tmp2_label8 = 0;
	static GQuark _tmp2_label9 = 0;
	static GQuark _tmp2_label10 = 0;
	static GQuark _tmp2_label11 = 0;
	const gchar* _tmp14_ = NULL;
	gchar* _tmp15_ = NULL;
	g_return_val_if_fail (type != NULL, NULL);
	_tmp0_ = type;
	_tmp1_ = _tmp0_;
	_tmp3_ = (NULL == _tmp1_) ? 0 : g_quark_from_string (_tmp1_);
	if (_tmp3_ == ((0 != _tmp2_label0) ? _tmp2_label0 : (_tmp2_label0 = g_quark_from_static_string ("b")))) {
		switch (0) {
			default:
			{
				gchar* _tmp4_ = NULL;
				_tmp4_ = g_strdup ("Boolean");
				result = _tmp4_;
				return result;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label1) ? _tmp2_label1 : (_tmp2_label1 = g_quark_from_static_string ("y")))) {
		switch (0) {
			default:
			{
				gchar* _tmp5_ = NULL;
				_tmp5_ = g_strdup ("Byte");
				result = _tmp5_;
				return result;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label2) ? _tmp2_label2 : (_tmp2_label2 = g_quark_from_static_string ("n")))) {
		switch (0) {
			default:
			{
				gchar* _tmp6_ = NULL;
				_tmp6_ = g_strdup ("Integer");
				result = _tmp6_;
				return result;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label3) ? _tmp2_label3 : (_tmp2_label3 = g_quark_from_static_string ("q")))) {
		switch (0) {
			default:
			{
				gchar* _tmp7_ = NULL;
				_tmp7_ = g_strdup ("Unsigned integer");
				result = _tmp7_;
				return result;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label4) ? _tmp2_label4 : (_tmp2_label4 = g_quark_from_static_string ("i")))) {
		switch (0) {
			default:
			{
				gchar* _tmp8_ = NULL;
				_tmp8_ = g_strdup ("Int32");
				result = _tmp8_;
				return result;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label5) ? _tmp2_label5 : (_tmp2_label5 = g_quark_from_static_string ("u")))) {
		switch (0) {
			default:
			{
				gchar* _tmp9_ = NULL;
				_tmp9_ = g_strdup ("Unsigned Int32");
				result = _tmp9_;
				return result;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label6) ? _tmp2_label6 : (_tmp2_label6 = g_quark_from_static_string ("x")))) {
		switch (0) {
			default:
			{
				gchar* _tmp10_ = NULL;
				_tmp10_ = g_strdup ("Int64");
				result = _tmp10_;
				return result;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label7) ? _tmp2_label7 : (_tmp2_label7 = g_quark_from_static_string ("t")))) {
		switch (0) {
			default:
			{
				gchar* _tmp11_ = NULL;
				_tmp11_ = g_strdup ("Unsigned Int64");
				result = _tmp11_;
				return result;
			}
		}
	} else if (_tmp3_ == ((0 != _tmp2_label8) ? _tmp2_label8 : (_tmp2_label8 = g_quark_from_static_string ("h")))) {
		switch (0) {
			default:
			{
				gchar* _tmp12_ = NULL;
				_tmp12_ = g_strdup ("Handle");
				result = _tmp12_;
				return result;
			}
		}
	} else if (((_tmp3_ == ((0 != _tmp2_label9) ? _tmp2_label9 : (_tmp2_label9 = g_quark_from_static_string ("s")))) || (_tmp3_ == ((0 != _tmp2_label10) ? _tmp2_label10 : (_tmp2_label10 = g_quark_from_static_string ("o"))))) || (_tmp3_ == ((0 != _tmp2_label11) ? _tmp2_label11 : (_tmp2_label11 = g_quark_from_static_string ("g"))))) {
		switch (0) {
			default:
			{
				gchar* _tmp13_ = NULL;
				_tmp13_ = g_strdup ("String");
				result = _tmp13_;
				return result;
			}
		}
	}
	_tmp14_ = type;
	_tmp15_ = g_strdup_printf ("\"%s\"", _tmp14_);
	result = _tmp15_;
	return result;
}


static const gchar* string_to_string (const gchar* self) {
	const gchar* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	result = self;
	return result;
}


gchar* configurator_utils_variant_to_string (GVariant* variant) {
	gchar* result = NULL;
	gchar* type = NULL;
	GVariant* _tmp0_ = NULL;
	const GVariantType* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	const gchar* _tmp4_ = NULL;
	GQuark _tmp6_ = 0U;
	static GQuark _tmp5_label0 = 0;
	static GQuark _tmp5_label1 = 0;
	static GQuark _tmp5_label2 = 0;
	static GQuark _tmp5_label3 = 0;
	static GQuark _tmp5_label4 = 0;
	static GQuark _tmp5_label5 = 0;
	static GQuark _tmp5_label6 = 0;
	static GQuark _tmp5_label7 = 0;
	static GQuark _tmp5_label8 = 0;
	static GQuark _tmp5_label9 = 0;
	static GQuark _tmp5_label10 = 0;
	static GQuark _tmp5_label11 = 0;
	static GQuark _tmp5_label12 = 0;
	const gchar* _tmp63_ = NULL;
	gchar* _tmp64_ = NULL;
	g_return_val_if_fail (variant != NULL, NULL);
	_tmp0_ = variant;
	_tmp1_ = g_variant_get_type (_tmp0_);
	_tmp2_ = g_variant_type_dup_string (_tmp1_);
	type = _tmp2_;
	_tmp3_ = type;
	_tmp4_ = _tmp3_;
	_tmp6_ = (NULL == _tmp4_) ? 0 : g_quark_from_string (_tmp4_);
	if (_tmp6_ == ((0 != _tmp5_label0) ? _tmp5_label0 : (_tmp5_label0 = g_quark_from_static_string ("b")))) {
		switch (0) {
			default:
			{
				const gchar* _tmp7_ = NULL;
				GVariant* _tmp8_ = NULL;
				gboolean _tmp9_ = FALSE;
				gchar* _tmp12_ = NULL;
				_tmp8_ = variant;
				_tmp9_ = g_variant_get_boolean (_tmp8_);
				if (_tmp9_) {
					const gchar* _tmp10_ = NULL;
					_tmp10_ = _ ("Enabled");
					_tmp7_ = _tmp10_;
				} else {
					const gchar* _tmp11_ = NULL;
					_tmp11_ = _ ("Disabled");
					_tmp7_ = _tmp11_;
				}
				_tmp12_ = g_strdup (_tmp7_);
				result = _tmp12_;
				_g_free0 (type);
				return result;
			}
		}
	} else if (_tmp6_ == ((0 != _tmp5_label1) ? _tmp5_label1 : (_tmp5_label1 = g_quark_from_static_string ("y")))) {
		switch (0) {
			default:
			{
				GVariant* _tmp13_ = NULL;
				guint8 _tmp14_ = 0U;
				gchar* _tmp15_ = NULL;
				_tmp13_ = variant;
				_tmp14_ = g_variant_get_byte (_tmp13_);
				_tmp15_ = g_strdup_printf ("%hhu", _tmp14_);
				result = _tmp15_;
				_g_free0 (type);
				return result;
			}
		}
	} else if (_tmp6_ == ((0 != _tmp5_label2) ? _tmp5_label2 : (_tmp5_label2 = g_quark_from_static_string ("n")))) {
		switch (0) {
			default:
			{
				GVariant* _tmp16_ = NULL;
				gint16 _tmp17_ = 0;
				gchar* _tmp18_ = NULL;
				_tmp16_ = variant;
				_tmp17_ = g_variant_get_int16 (_tmp16_);
				_tmp18_ = g_strdup_printf ("%" G_GINT16_FORMAT, _tmp17_);
				result = _tmp18_;
				_g_free0 (type);
				return result;
			}
		}
	} else if (_tmp6_ == ((0 != _tmp5_label3) ? _tmp5_label3 : (_tmp5_label3 = g_quark_from_static_string ("q")))) {
		switch (0) {
			default:
			{
				GVariant* _tmp19_ = NULL;
				guint16 _tmp20_ = 0U;
				gchar* _tmp21_ = NULL;
				_tmp19_ = variant;
				_tmp20_ = g_variant_get_uint16 (_tmp19_);
				_tmp21_ = g_strdup_printf ("%hu", _tmp20_);
				result = _tmp21_;
				_g_free0 (type);
				return result;
			}
		}
	} else if (_tmp6_ == ((0 != _tmp5_label4) ? _tmp5_label4 : (_tmp5_label4 = g_quark_from_static_string ("i")))) {
		switch (0) {
			default:
			{
				GVariant* _tmp22_ = NULL;
				gint32 _tmp23_ = 0;
				gchar* _tmp24_ = NULL;
				_tmp22_ = variant;
				_tmp23_ = g_variant_get_int32 (_tmp22_);
				_tmp24_ = g_strdup_printf ("%i", _tmp23_);
				result = _tmp24_;
				_g_free0 (type);
				return result;
			}
		}
	} else if (_tmp6_ == ((0 != _tmp5_label5) ? _tmp5_label5 : (_tmp5_label5 = g_quark_from_static_string ("u")))) {
		switch (0) {
			default:
			{
				GVariant* _tmp25_ = NULL;
				guint32 _tmp26_ = 0U;
				gchar* _tmp27_ = NULL;
				_tmp25_ = variant;
				_tmp26_ = g_variant_get_uint32 (_tmp25_);
				_tmp27_ = g_strdup_printf ("%u", _tmp26_);
				result = _tmp27_;
				_g_free0 (type);
				return result;
			}
		}
	} else if (_tmp6_ == ((0 != _tmp5_label6) ? _tmp5_label6 : (_tmp5_label6 = g_quark_from_static_string ("x")))) {
		switch (0) {
			default:
			{
				GVariant* _tmp28_ = NULL;
				gint64 _tmp29_ = 0LL;
				gchar* _tmp30_ = NULL;
				_tmp28_ = variant;
				_tmp29_ = g_variant_get_int64 (_tmp28_);
				_tmp30_ = g_strdup_printf ("%" G_GINT64_FORMAT, _tmp29_);
				result = _tmp30_;
				_g_free0 (type);
				return result;
			}
		}
	} else if (_tmp6_ == ((0 != _tmp5_label7) ? _tmp5_label7 : (_tmp5_label7 = g_quark_from_static_string ("t")))) {
		switch (0) {
			default:
			{
				GVariant* _tmp31_ = NULL;
				guint64 _tmp32_ = 0ULL;
				gchar* _tmp33_ = NULL;
				_tmp31_ = variant;
				_tmp32_ = g_variant_get_uint64 (_tmp31_);
				_tmp33_ = g_strdup_printf ("%" G_GUINT64_FORMAT, _tmp32_);
				result = _tmp33_;
				_g_free0 (type);
				return result;
			}
		}
	} else if (_tmp6_ == ((0 != _tmp5_label8) ? _tmp5_label8 : (_tmp5_label8 = g_quark_from_static_string ("h")))) {
		switch (0) {
			default:
			{
				GVariant* _tmp34_ = NULL;
				gint32 _tmp35_ = 0;
				gchar* _tmp36_ = NULL;
				_tmp34_ = variant;
				_tmp35_ = g_variant_get_handle (_tmp34_);
				_tmp36_ = g_strdup_printf ("%i", _tmp35_);
				result = _tmp36_;
				_g_free0 (type);
				return result;
			}
		}
	} else if (((_tmp6_ == ((0 != _tmp5_label9) ? _tmp5_label9 : (_tmp5_label9 = g_quark_from_static_string ("s")))) || (_tmp6_ == ((0 != _tmp5_label10) ? _tmp5_label10 : (_tmp5_label10 = g_quark_from_static_string ("o"))))) || (_tmp6_ == ((0 != _tmp5_label11) ? _tmp5_label11 : (_tmp5_label11 = g_quark_from_static_string ("g"))))) {
		switch (0) {
			default:
			{
				GVariant* _tmp37_ = NULL;
				const gchar* _tmp38_ = NULL;
				const gchar* _tmp39_ = NULL;
				gchar* _tmp40_ = NULL;
				_tmp37_ = variant;
				_tmp38_ = g_variant_get_string (_tmp37_, NULL);
				_tmp39_ = string_to_string (_tmp38_);
				_tmp40_ = g_strdup_printf ("\"%s\"", _tmp39_);
				result = _tmp40_;
				_g_free0 (type);
				return result;
			}
		}
	} else if (_tmp6_ == ((0 != _tmp5_label12) ? _tmp5_label12 : (_tmp5_label12 = g_quark_from_static_string ("as")))) {
		switch (0) {
			default:
			{
				const gchar** strings = NULL;
				GVariant* _tmp41_ = NULL;
				size_t _tmp42_;
				const gchar** _tmp43_ = NULL;
				gint strings_length1 = 0;
				gint _strings_size_ = 0;
				gchar* text = NULL;
				gchar* _tmp44_ = NULL;
				const gchar** _tmp45_ = NULL;
				gint _tmp45__length1 = 0;
				_tmp41_ = variant;
				_tmp43_ = g_variant_get_strv (_tmp41_, &_tmp42_);
				strings = _tmp43_;
				strings_length1 = _tmp42_;
				_strings_size_ = strings_length1;
				_tmp44_ = g_strdup ("");
				text = _tmp44_;
				_tmp45_ = strings;
				_tmp45__length1 = strings_length1;
				if (_tmp45__length1 == 0) {
					const gchar* _tmp46_ = NULL;
					gchar* _tmp47_ = NULL;
					_tmp46_ = _ ("Empty array");
					_tmp47_ = g_strdup (_tmp46_);
					result = _tmp47_;
					_g_free0 (text);
					strings = (g_free (strings), NULL);
					_g_free0 (type);
					return result;
				}
				{
					gint i = 0;
					i = 0;
					{
						gboolean _tmp48_ = FALSE;
						_tmp48_ = TRUE;
						while (TRUE) {
							gint _tmp50_ = 0;
							const gchar** _tmp51_ = NULL;
							gint _tmp51__length1 = 0;
							const gchar* _tmp52_ = NULL;
							const gchar** _tmp53_ = NULL;
							gint _tmp53__length1 = 0;
							gint _tmp54_ = 0;
							const gchar* _tmp55_ = NULL;
							gchar* _tmp56_ = NULL;
							gchar* _tmp57_ = NULL;
							gchar* _tmp58_ = NULL;
							gint _tmp59_ = 0;
							const gchar** _tmp60_ = NULL;
							gint _tmp60__length1 = 0;
							if (!_tmp48_) {
								gint _tmp49_ = 0;
								_tmp49_ = i;
								i = _tmp49_ + 1;
							}
							_tmp48_ = FALSE;
							_tmp50_ = i;
							_tmp51_ = strings;
							_tmp51__length1 = strings_length1;
							if (!(_tmp50_ < _tmp51__length1)) {
								break;
							}
							_tmp52_ = text;
							_tmp53_ = strings;
							_tmp53__length1 = strings_length1;
							_tmp54_ = i;
							_tmp55_ = _tmp53_[_tmp54_];
							_tmp56_ = g_strdup_printf ("\"%s\"", _tmp55_);
							_tmp57_ = _tmp56_;
							_tmp58_ = g_strconcat (_tmp52_, _tmp57_, NULL);
							_g_free0 (text);
							text = _tmp58_;
							_g_free0 (_tmp57_);
							_tmp59_ = i;
							_tmp60_ = strings;
							_tmp60__length1 = strings_length1;
							if (_tmp59_ < (_tmp60__length1 - 1)) {
								const gchar* _tmp61_ = NULL;
								gchar* _tmp62_ = NULL;
								_tmp61_ = text;
								_tmp62_ = g_strconcat (_tmp61_, ", ", NULL);
								_g_free0 (text);
								text = _tmp62_;
							}
						}
					}
				}
				result = text;
				strings = (g_free (strings), NULL);
				_g_free0 (type);
				return result;
			}
		}
	}
	_tmp63_ = _ ("Preview not supported.");
	_tmp64_ = g_strdup (_tmp63_);
	result = _tmp64_;
	_g_free0 (type);
	return result;
}



