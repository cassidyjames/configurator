/* ArrayInput.c generated by valac 0.34.9, the Vala compiler
 * generated from ArrayInput.vala, do not modify */

/* Copyright 2015 Marcus Wichelmann
*
* This file is part of Configurator.
*
* Configurator is free software: you can redistribute it
* and/or modify it under the terms of the GNU General Public License as
* published by the Free Software Foundation, either version 3 of the
* License, or (at your option) any later version.
*
* Configurator is distributed in the hope that it will be
* useful, but WITHOUT ANY WARRANTY; without Configurator the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
* Public License for more details.
*
* You should have received a copy of the GNU General Public License along
* with Configurator. If not, see http://www.gnu.org/licenses/.
*/

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <gio/gio.h>
#include <stdlib.h>
#include <string.h>
#include <glib/gi18n-lib.h>


#define CONFIGURATOR_WIDGETS_FIELDS_TYPE_ARRAY_INPUT (configurator_widgets_fields_array_input_get_type ())
#define CONFIGURATOR_WIDGETS_FIELDS_ARRAY_INPUT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CONFIGURATOR_WIDGETS_FIELDS_TYPE_ARRAY_INPUT, configuratorWidgetsFieldsArrayInput))
#define CONFIGURATOR_WIDGETS_FIELDS_ARRAY_INPUT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CONFIGURATOR_WIDGETS_FIELDS_TYPE_ARRAY_INPUT, configuratorWidgetsFieldsArrayInputClass))
#define CONFIGURATOR_WIDGETS_FIELDS_IS_ARRAY_INPUT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CONFIGURATOR_WIDGETS_FIELDS_TYPE_ARRAY_INPUT))
#define CONFIGURATOR_WIDGETS_FIELDS_IS_ARRAY_INPUT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CONFIGURATOR_WIDGETS_FIELDS_TYPE_ARRAY_INPUT))
#define CONFIGURATOR_WIDGETS_FIELDS_ARRAY_INPUT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CONFIGURATOR_WIDGETS_FIELDS_TYPE_ARRAY_INPUT, configuratorWidgetsFieldsArrayInputClass))

typedef struct _configuratorWidgetsFieldsArrayInput configuratorWidgetsFieldsArrayInput;
typedef struct _configuratorWidgetsFieldsArrayInputClass configuratorWidgetsFieldsArrayInputClass;
typedef struct _configuratorWidgetsFieldsArrayInputPrivate configuratorWidgetsFieldsArrayInputPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
typedef struct _Block3Data Block3Data;
#define _g_variant_unref0(var) ((var == NULL) ? NULL : (var = (g_variant_unref (var), NULL)))
#define _g_list_free0(var) ((var == NULL) ? NULL : (var = (g_list_free (var), NULL)))
typedef struct _Block4Data Block4Data;
typedef struct _Block5Data Block5Data;
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _configuratorWidgetsFieldsArrayInput {
	GtkButton parent_instance;
	configuratorWidgetsFieldsArrayInputPrivate * priv;
};

struct _configuratorWidgetsFieldsArrayInputClass {
	GtkButtonClass parent_class;
};

struct _configuratorWidgetsFieldsArrayInputPrivate {
	GtkPopover* popover;
	GtkBox* box;
	GtkListBox* listbox;
	GtkActionBar* action_bar;
	GtkEntry* add_entry;
	GtkButton* add_button;
};

struct _Block3Data {
	int _ref_count_;
	configuratorWidgetsFieldsArrayInput* self;
	GSettings* settings;
	gchar* key;
};

struct _Block4Data {
	int _ref_count_;
	configuratorWidgetsFieldsArrayInput* self;
	gsize childs;
	GSettings* settings;
	gchar* key;
	GVariant* val;
};

struct _Block5Data {
	int _ref_count_;
	Block4Data * _data4_;
	gint child_index;
	GVariant* child;
};


static gpointer configurator_widgets_fields_array_input_parent_class = NULL;

GType configurator_widgets_fields_array_input_get_type (void) G_GNUC_CONST;
#define CONFIGURATOR_WIDGETS_FIELDS_ARRAY_INPUT_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), CONFIGURATOR_WIDGETS_FIELDS_TYPE_ARRAY_INPUT, configuratorWidgetsFieldsArrayInputPrivate))
enum  {
	CONFIGURATOR_WIDGETS_FIELDS_ARRAY_INPUT_DUMMY_PROPERTY
};
configuratorWidgetsFieldsArrayInput* configurator_widgets_fields_array_input_new (GSettings* settings, const gchar* key);
configuratorWidgetsFieldsArrayInput* configurator_widgets_fields_array_input_construct (GType object_type, GSettings* settings, const gchar* key);
static Block3Data* block3_data_ref (Block3Data* _data3_);
static void block3_data_unref (void * _userdata_);
static void __lambda12_ (configuratorWidgetsFieldsArrayInput* self);
static void ___lambda12__gtk_button_clicked (GtkButton* _sender, gpointer self);
static void __lambda13_ (Block3Data* _data3_);
static void ___lambda13__gtk_button_clicked (GtkButton* _sender, gpointer self);
static void configurator_widgets_fields_array_input_display_value (configuratorWidgetsFieldsArrayInput* self, GSettings* settings, const gchar* key, GVariant* val);
static void __lambda15_ (Block3Data* _data3_, const gchar* k);
static void ___lambda16_ (configuratorWidgetsFieldsArrayInput* self, GtkWidget* item);
static void ____lambda16__gfunc (gconstpointer data, gpointer self);
static void ___lambda15__g_settings_changed (GSettings* _sender, const gchar* key, gpointer self);
static Block4Data* block4_data_ref (Block4Data* _data4_);
static void block4_data_unref (void * _userdata_);
static Block5Data* block5_data_ref (Block5Data* _data5_);
static void block5_data_unref (void * _userdata_);
gchar* configurator_utils_variant_to_string (GVariant* variant);
static void ______lambda14_ (Block5Data* _data5_);
static void _______lambda14__gtk_button_clicked (GtkButton* _sender, gpointer self);
static void configurator_widgets_fields_array_input_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static Block3Data* block3_data_ref (Block3Data* _data3_) {
	g_atomic_int_inc (&_data3_->_ref_count_);
	return _data3_;
}


static void block3_data_unref (void * _userdata_) {
	Block3Data* _data3_;
	_data3_ = (Block3Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data3_->_ref_count_)) {
		configuratorWidgetsFieldsArrayInput* self;
		self = _data3_->self;
		_g_object_unref0 (_data3_->settings);
		_g_free0 (_data3_->key);
		_g_object_unref0 (self);
		g_slice_free (Block3Data, _data3_);
	}
}


static void __lambda12_ (configuratorWidgetsFieldsArrayInput* self) {
	GtkPopover* _tmp0_ = NULL;
	_tmp0_ = self->priv->popover;
	gtk_widget_show_all ((GtkWidget*) _tmp0_);
}


static void ___lambda12__gtk_button_clicked (GtkButton* _sender, gpointer self) {
	__lambda12_ ((configuratorWidgetsFieldsArrayInput*) self);
}


static glong string_strnlen (gchar* str, glong maxlen) {
	glong result = 0L;
	gchar* end = NULL;
	gchar* _tmp0_ = NULL;
	glong _tmp1_ = 0L;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	_tmp0_ = str;
	_tmp1_ = maxlen;
	_tmp2_ = memchr (_tmp0_, 0, (gsize) _tmp1_);
	end = _tmp2_;
	_tmp3_ = end;
	if (_tmp3_ == NULL) {
		glong _tmp4_ = 0L;
		_tmp4_ = maxlen;
		result = _tmp4_;
		return result;
	} else {
		gchar* _tmp5_ = NULL;
		gchar* _tmp6_ = NULL;
		_tmp5_ = end;
		_tmp6_ = str;
		result = (glong) (_tmp5_ - _tmp6_);
		return result;
	}
}


static gchar* string_substring (const gchar* self, glong offset, glong len) {
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp1_ = 0L;
	glong _tmp8_ = 0L;
	glong _tmp14_ = 0L;
	glong _tmp17_ = 0L;
	glong _tmp18_ = 0L;
	glong _tmp19_ = 0L;
	glong _tmp20_ = 0L;
	glong _tmp21_ = 0L;
	gchar* _tmp22_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp1_ = offset;
	if (_tmp1_ >= ((glong) 0)) {
		glong _tmp2_ = 0L;
		_tmp2_ = len;
		_tmp0_ = _tmp2_ >= ((glong) 0);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		glong _tmp3_ = 0L;
		glong _tmp4_ = 0L;
		glong _tmp5_ = 0L;
		_tmp3_ = offset;
		_tmp4_ = len;
		_tmp5_ = string_strnlen ((gchar*) self, _tmp3_ + _tmp4_);
		string_length = _tmp5_;
	} else {
		gint _tmp6_ = 0;
		gint _tmp7_ = 0;
		_tmp6_ = strlen (self);
		_tmp7_ = _tmp6_;
		string_length = (glong) _tmp7_;
	}
	_tmp8_ = offset;
	if (_tmp8_ < ((glong) 0)) {
		glong _tmp9_ = 0L;
		glong _tmp10_ = 0L;
		glong _tmp11_ = 0L;
		_tmp9_ = string_length;
		_tmp10_ = offset;
		offset = _tmp9_ + _tmp10_;
		_tmp11_ = offset;
		g_return_val_if_fail (_tmp11_ >= ((glong) 0), NULL);
	} else {
		glong _tmp12_ = 0L;
		glong _tmp13_ = 0L;
		_tmp12_ = offset;
		_tmp13_ = string_length;
		g_return_val_if_fail (_tmp12_ <= _tmp13_, NULL);
	}
	_tmp14_ = len;
	if (_tmp14_ < ((glong) 0)) {
		glong _tmp15_ = 0L;
		glong _tmp16_ = 0L;
		_tmp15_ = string_length;
		_tmp16_ = offset;
		len = _tmp15_ - _tmp16_;
	}
	_tmp17_ = offset;
	_tmp18_ = len;
	_tmp19_ = string_length;
	g_return_val_if_fail ((_tmp17_ + _tmp18_) <= _tmp19_, NULL);
	_tmp20_ = offset;
	_tmp21_ = len;
	_tmp22_ = g_strndup (((gchar*) self) + _tmp20_, (gsize) _tmp21_);
	result = _tmp22_;
	return result;
}


static gpointer _g_variant_ref0 (gpointer self) {
	return self ? g_variant_ref (self) : NULL;
}


static void __lambda13_ (Block3Data* _data3_) {
	configuratorWidgetsFieldsArrayInput* self;
	GVariant* new_child = NULL;
	gchar* type = NULL;
	GSettings* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	GVariant* _tmp2_ = NULL;
	GVariant* _tmp3_ = NULL;
	const GVariantType* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
	gboolean _tmp7_ = FALSE;
	const gchar* _tmp8_ = NULL;
	gboolean _tmp9_ = FALSE;
	const gchar* _tmp13_ = NULL;
	gchar* _tmp14_ = NULL;
	gchar* _tmp15_ = NULL;
	GQuark _tmp17_ = 0U;
	static GQuark _tmp16_label0 = 0;
	static GQuark _tmp16_label1 = 0;
	static GQuark _tmp16_label2 = 0;
	static GQuark _tmp16_label3 = 0;
	static GQuark _tmp16_label4 = 0;
	static GQuark _tmp16_label5 = 0;
	static GQuark _tmp16_label6 = 0;
	static GQuark _tmp16_label7 = 0;
	static GQuark _tmp16_label8 = 0;
	static GQuark _tmp16_label9 = 0;
	static GQuark _tmp16_label10 = 0;
	static GQuark _tmp16_label11 = 0;
	GVariant* _tmp92_ = NULL;
	self = _data3_->self;
	new_child = NULL;
	_tmp0_ = _data3_->settings;
	_tmp1_ = _data3_->key;
	_tmp2_ = g_settings_get_value (_tmp0_, _tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = g_variant_get_type (_tmp3_);
	_tmp5_ = g_variant_type_dup_string (_tmp4_);
	_tmp6_ = _tmp5_;
	_g_variant_unref0 (_tmp3_);
	type = _tmp6_;
	_tmp8_ = type;
	_tmp9_ = g_str_has_prefix (_tmp8_, "a");
	if (_tmp9_) {
		const gchar* _tmp10_ = NULL;
		gint _tmp11_ = 0;
		gint _tmp12_ = 0;
		_tmp10_ = type;
		_tmp11_ = strlen (_tmp10_);
		_tmp12_ = _tmp11_;
		_tmp7_ = _tmp12_ == 2;
	} else {
		_tmp7_ = FALSE;
	}
	_vala_assert (_tmp7_, "type.has_prefix (\"a\") && type.length == 2");
	_tmp13_ = type;
	_tmp14_ = string_substring (_tmp13_, (glong) 1, (glong) -1);
	_tmp15_ = _tmp14_;
	_tmp17_ = (NULL == _tmp15_) ? 0 : g_quark_from_string (_tmp15_);
	g_free (_tmp15_);
	if (_tmp17_ == ((0 != _tmp16_label0) ? _tmp16_label0 : (_tmp16_label0 = g_quark_from_static_string ("b")))) {
		switch (0) {
			default:
			{
				gboolean _tmp18_ = FALSE;
				gboolean _tmp19_ = FALSE;
				gboolean _tmp20_ = FALSE;
				GtkEntry* _tmp21_ = NULL;
				const gchar* _tmp22_ = NULL;
				const gchar* _tmp23_ = NULL;
				gchar* _tmp24_ = NULL;
				gchar* _tmp25_ = NULL;
				gboolean _tmp26_ = FALSE;
				GVariant* _tmp45_ = NULL;
				_tmp21_ = self->priv->add_entry;
				_tmp22_ = gtk_entry_get_text (_tmp21_);
				_tmp23_ = _tmp22_;
				_tmp24_ = g_utf8_strdown (_tmp23_, (gssize) -1);
				_tmp25_ = _tmp24_;
				_tmp26_ = g_strcmp0 (_tmp25_, "true") == 0;
				_g_free0 (_tmp25_);
				if (_tmp26_) {
					_tmp20_ = TRUE;
				} else {
					GtkEntry* _tmp27_ = NULL;
					const gchar* _tmp28_ = NULL;
					const gchar* _tmp29_ = NULL;
					gchar* _tmp30_ = NULL;
					gchar* _tmp31_ = NULL;
					_tmp27_ = self->priv->add_entry;
					_tmp28_ = gtk_entry_get_text (_tmp27_);
					_tmp29_ = _tmp28_;
					_tmp30_ = g_utf8_strdown (_tmp29_, (gssize) -1);
					_tmp31_ = _tmp30_;
					_tmp20_ = g_strcmp0 (_tmp31_, "on") == 0;
					_g_free0 (_tmp31_);
				}
				if (_tmp20_) {
					_tmp19_ = TRUE;
				} else {
					GtkEntry* _tmp32_ = NULL;
					const gchar* _tmp33_ = NULL;
					const gchar* _tmp34_ = NULL;
					gchar* _tmp35_ = NULL;
					gchar* _tmp36_ = NULL;
					_tmp32_ = self->priv->add_entry;
					_tmp33_ = gtk_entry_get_text (_tmp32_);
					_tmp34_ = _tmp33_;
					_tmp35_ = g_utf8_strdown (_tmp34_, (gssize) -1);
					_tmp36_ = _tmp35_;
					_tmp19_ = g_strcmp0 (_tmp36_, "enabled") == 0;
					_g_free0 (_tmp36_);
				}
				if (_tmp19_) {
					_tmp18_ = TRUE;
				} else {
					GtkEntry* _tmp37_ = NULL;
					const gchar* _tmp38_ = NULL;
					const gchar* _tmp39_ = NULL;
					gchar* _tmp40_ = NULL;
					gchar* _tmp41_ = NULL;
					const gchar* _tmp42_ = NULL;
					gchar* _tmp43_ = NULL;
					gchar* _tmp44_ = NULL;
					_tmp37_ = self->priv->add_entry;
					_tmp38_ = gtk_entry_get_text (_tmp37_);
					_tmp39_ = _tmp38_;
					_tmp40_ = g_utf8_strdown (_tmp39_, (gssize) -1);
					_tmp41_ = _tmp40_;
					_tmp42_ = _ ("Enabled");
					_tmp43_ = g_utf8_strdown (_tmp42_, (gssize) -1);
					_tmp44_ = _tmp43_;
					_tmp18_ = g_strcmp0 (_tmp41_, _tmp44_) == 0;
					_g_free0 (_tmp44_);
					_g_free0 (_tmp41_);
				}
				_tmp45_ = g_variant_new_boolean (_tmp18_);
				g_variant_ref_sink (_tmp45_);
				_g_variant_unref0 (new_child);
				new_child = _tmp45_;
				break;
			}
		}
	} else if (_tmp17_ == ((0 != _tmp16_label1) ? _tmp16_label1 : (_tmp16_label1 = g_quark_from_static_string ("y")))) {
		switch (0) {
			default:
			{
				GtkEntry* _tmp46_ = NULL;
				const gchar* _tmp47_ = NULL;
				const gchar* _tmp48_ = NULL;
				gint _tmp49_ = 0;
				GVariant* _tmp50_ = NULL;
				_tmp46_ = self->priv->add_entry;
				_tmp47_ = gtk_entry_get_text (_tmp46_);
				_tmp48_ = _tmp47_;
				_tmp49_ = atoi (_tmp48_);
				_tmp50_ = g_variant_new_byte ((guchar) _tmp49_);
				g_variant_ref_sink (_tmp50_);
				_g_variant_unref0 (new_child);
				new_child = _tmp50_;
				break;
			}
		}
	} else if (_tmp17_ == ((0 != _tmp16_label2) ? _tmp16_label2 : (_tmp16_label2 = g_quark_from_static_string ("n")))) {
		switch (0) {
			default:
			{
				GtkEntry* _tmp51_ = NULL;
				const gchar* _tmp52_ = NULL;
				const gchar* _tmp53_ = NULL;
				gint _tmp54_ = 0;
				GVariant* _tmp55_ = NULL;
				_tmp51_ = self->priv->add_entry;
				_tmp52_ = gtk_entry_get_text (_tmp51_);
				_tmp53_ = _tmp52_;
				_tmp54_ = atoi (_tmp53_);
				_tmp55_ = g_variant_new_int16 ((gint16) _tmp54_);
				g_variant_ref_sink (_tmp55_);
				_g_variant_unref0 (new_child);
				new_child = _tmp55_;
				break;
			}
		}
	} else if (_tmp17_ == ((0 != _tmp16_label3) ? _tmp16_label3 : (_tmp16_label3 = g_quark_from_static_string ("q")))) {
		switch (0) {
			default:
			{
				GtkEntry* _tmp56_ = NULL;
				const gchar* _tmp57_ = NULL;
				const gchar* _tmp58_ = NULL;
				gint _tmp59_ = 0;
				GVariant* _tmp60_ = NULL;
				_tmp56_ = self->priv->add_entry;
				_tmp57_ = gtk_entry_get_text (_tmp56_);
				_tmp58_ = _tmp57_;
				_tmp59_ = atoi (_tmp58_);
				_tmp60_ = g_variant_new_uint16 ((guint16) _tmp59_);
				g_variant_ref_sink (_tmp60_);
				_g_variant_unref0 (new_child);
				new_child = _tmp60_;
				break;
			}
		}
	} else if (_tmp17_ == ((0 != _tmp16_label4) ? _tmp16_label4 : (_tmp16_label4 = g_quark_from_static_string ("i")))) {
		switch (0) {
			default:
			{
				GtkEntry* _tmp61_ = NULL;
				const gchar* _tmp62_ = NULL;
				const gchar* _tmp63_ = NULL;
				gint _tmp64_ = 0;
				GVariant* _tmp65_ = NULL;
				_tmp61_ = self->priv->add_entry;
				_tmp62_ = gtk_entry_get_text (_tmp61_);
				_tmp63_ = _tmp62_;
				_tmp64_ = atoi (_tmp63_);
				_tmp65_ = g_variant_new_int32 ((gint32) _tmp64_);
				g_variant_ref_sink (_tmp65_);
				_g_variant_unref0 (new_child);
				new_child = _tmp65_;
				break;
			}
		}
	} else if (_tmp17_ == ((0 != _tmp16_label5) ? _tmp16_label5 : (_tmp16_label5 = g_quark_from_static_string ("u")))) {
		switch (0) {
			default:
			{
				GtkEntry* _tmp66_ = NULL;
				const gchar* _tmp67_ = NULL;
				const gchar* _tmp68_ = NULL;
				gint _tmp69_ = 0;
				GVariant* _tmp70_ = NULL;
				_tmp66_ = self->priv->add_entry;
				_tmp67_ = gtk_entry_get_text (_tmp66_);
				_tmp68_ = _tmp67_;
				_tmp69_ = atoi (_tmp68_);
				_tmp70_ = g_variant_new_uint32 ((guint32) _tmp69_);
				g_variant_ref_sink (_tmp70_);
				_g_variant_unref0 (new_child);
				new_child = _tmp70_;
				break;
			}
		}
	} else if (_tmp17_ == ((0 != _tmp16_label6) ? _tmp16_label6 : (_tmp16_label6 = g_quark_from_static_string ("x")))) {
		switch (0) {
			default:
			{
				GtkEntry* _tmp71_ = NULL;
				const gchar* _tmp72_ = NULL;
				const gchar* _tmp73_ = NULL;
				gint _tmp74_ = 0;
				GVariant* _tmp75_ = NULL;
				_tmp71_ = self->priv->add_entry;
				_tmp72_ = gtk_entry_get_text (_tmp71_);
				_tmp73_ = _tmp72_;
				_tmp74_ = atoi (_tmp73_);
				_tmp75_ = g_variant_new_int64 ((gint64) _tmp74_);
				g_variant_ref_sink (_tmp75_);
				_g_variant_unref0 (new_child);
				new_child = _tmp75_;
				break;
			}
		}
	} else if (_tmp17_ == ((0 != _tmp16_label7) ? _tmp16_label7 : (_tmp16_label7 = g_quark_from_static_string ("t")))) {
		switch (0) {
			default:
			{
				GtkEntry* _tmp76_ = NULL;
				const gchar* _tmp77_ = NULL;
				const gchar* _tmp78_ = NULL;
				gint _tmp79_ = 0;
				GVariant* _tmp80_ = NULL;
				_tmp76_ = self->priv->add_entry;
				_tmp77_ = gtk_entry_get_text (_tmp76_);
				_tmp78_ = _tmp77_;
				_tmp79_ = atoi (_tmp78_);
				_tmp80_ = g_variant_new_uint64 ((guint64) _tmp79_);
				g_variant_ref_sink (_tmp80_);
				_g_variant_unref0 (new_child);
				new_child = _tmp80_;
				break;
			}
		}
	} else if (_tmp17_ == ((0 != _tmp16_label8) ? _tmp16_label8 : (_tmp16_label8 = g_quark_from_static_string ("h")))) {
		switch (0) {
			default:
			{
				GtkEntry* _tmp81_ = NULL;
				const gchar* _tmp82_ = NULL;
				const gchar* _tmp83_ = NULL;
				gint _tmp84_ = 0;
				GVariant* _tmp85_ = NULL;
				_tmp81_ = self->priv->add_entry;
				_tmp82_ = gtk_entry_get_text (_tmp81_);
				_tmp83_ = _tmp82_;
				_tmp84_ = atoi (_tmp83_);
				_tmp85_ = g_variant_new_int32 ((gint32) _tmp84_);
				g_variant_ref_sink (_tmp85_);
				_g_variant_unref0 (new_child);
				new_child = _tmp85_;
				break;
			}
		}
	} else if (((_tmp17_ == ((0 != _tmp16_label9) ? _tmp16_label9 : (_tmp16_label9 = g_quark_from_static_string ("s")))) || (_tmp17_ == ((0 != _tmp16_label10) ? _tmp16_label10 : (_tmp16_label10 = g_quark_from_static_string ("o"))))) || (_tmp17_ == ((0 != _tmp16_label11) ? _tmp16_label11 : (_tmp16_label11 = g_quark_from_static_string ("g"))))) {
		switch (0) {
			default:
			{
				GtkEntry* _tmp86_ = NULL;
				const gchar* _tmp87_ = NULL;
				const gchar* _tmp88_ = NULL;
				GVariant* _tmp89_ = NULL;
				_tmp86_ = self->priv->add_entry;
				_tmp87_ = gtk_entry_get_text (_tmp86_);
				_tmp88_ = _tmp87_;
				_tmp89_ = g_variant_new_string (_tmp88_);
				g_variant_ref_sink (_tmp89_);
				_g_variant_unref0 (new_child);
				new_child = _tmp89_;
				break;
			}
		}
	} else {
		switch (0) {
			default:
			{
				const gchar* _tmp90_ = NULL;
				const gchar* _tmp91_ = NULL;
				_tmp90_ = _ ("Unsupported type \"%s\". Can't create new entry.");
				_tmp91_ = type;
				g_warning (_tmp90_, _tmp91_);
				break;
			}
		}
	}
	_tmp92_ = new_child;
	if (_tmp92_ != NULL) {
		gsize childs = 0UL;
		GSettings* _tmp93_ = NULL;
		const gchar* _tmp94_ = NULL;
		GVariant* _tmp95_ = NULL;
		GVariant* _tmp96_ = NULL;
		gsize _tmp97_ = 0UL;
		gsize _tmp98_ = 0UL;
		GVariant** new_child_list = NULL;
		gsize _tmp99_ = 0UL;
		GVariant** _tmp100_ = NULL;
		gint new_child_list_length1 = 0;
		gint _new_child_list_size_ = 0;
		GVariant** _tmp114_ = NULL;
		gint _tmp114__length1 = 0;
		gsize _tmp115_ = 0UL;
		GVariant* _tmp116_ = NULL;
		GVariant* _tmp117_ = NULL;
		GVariant* _tmp118_ = NULL;
		GVariant* new_val = NULL;
		GVariant* _tmp119_ = NULL;
		const GVariantType* _tmp120_ = NULL;
		GVariant** _tmp121_ = NULL;
		gint _tmp121__length1 = 0;
		GVariant* _tmp122_ = NULL;
		GSettings* _tmp123_ = NULL;
		const gchar* _tmp124_ = NULL;
		GVariant* _tmp125_ = NULL;
		GtkEntry* _tmp126_ = NULL;
		_tmp93_ = _data3_->settings;
		_tmp94_ = _data3_->key;
		_tmp95_ = g_settings_get_value (_tmp93_, _tmp94_);
		_tmp96_ = _tmp95_;
		_tmp97_ = g_variant_n_children (_tmp96_);
		_tmp98_ = _tmp97_;
		_g_variant_unref0 (_tmp96_);
		childs = _tmp98_;
		_tmp99_ = childs;
		_tmp100_ = g_new0 (GVariant*, (_tmp99_ + 1) + 1);
		new_child_list = _tmp100_;
		new_child_list_length1 = _tmp99_ + 1;
		_new_child_list_size_ = new_child_list_length1;
		{
			gint c = 0;
			c = 0;
			{
				gboolean _tmp101_ = FALSE;
				_tmp101_ = TRUE;
				while (TRUE) {
					gint _tmp103_ = 0;
					gsize _tmp104_ = 0UL;
					GVariant** _tmp105_ = NULL;
					gint _tmp105__length1 = 0;
					gint _tmp106_ = 0;
					GSettings* _tmp107_ = NULL;
					const gchar* _tmp108_ = NULL;
					GVariant* _tmp109_ = NULL;
					GVariant* _tmp110_ = NULL;
					gint _tmp111_ = 0;
					GVariant* _tmp112_ = NULL;
					GVariant* _tmp113_ = NULL;
					if (!_tmp101_) {
						gint _tmp102_ = 0;
						_tmp102_ = c;
						c = _tmp102_ + 1;
					}
					_tmp101_ = FALSE;
					_tmp103_ = c;
					_tmp104_ = childs;
					if (!(((gsize) _tmp103_) < _tmp104_)) {
						break;
					}
					_tmp105_ = new_child_list;
					_tmp105__length1 = new_child_list_length1;
					_tmp106_ = c;
					_tmp107_ = _data3_->settings;
					_tmp108_ = _data3_->key;
					_tmp109_ = g_settings_get_value (_tmp107_, _tmp108_);
					_tmp110_ = _tmp109_;
					_tmp111_ = c;
					_tmp112_ = g_variant_get_child_value (_tmp110_, (gsize) _tmp111_);
					_g_variant_unref0 (_tmp105_[_tmp106_]);
					_tmp105_[_tmp106_] = _tmp112_;
					_tmp113_ = _tmp105_[_tmp106_];
					_g_variant_unref0 (_tmp110_);
				}
			}
		}
		_tmp114_ = new_child_list;
		_tmp114__length1 = new_child_list_length1;
		_tmp115_ = childs;
		_tmp116_ = new_child;
		_tmp117_ = _g_variant_ref0 (_tmp116_);
		_g_variant_unref0 (_tmp114_[_tmp115_]);
		_tmp114_[_tmp115_] = _tmp117_;
		_tmp118_ = _tmp114_[_tmp115_];
		_tmp119_ = new_child;
		_tmp120_ = g_variant_get_type (_tmp119_);
		_tmp121_ = new_child_list;
		_tmp121__length1 = new_child_list_length1;
		_tmp122_ = g_variant_new_array (_tmp120_, _tmp121_, _tmp121__length1);
		g_variant_ref_sink (_tmp122_);
		new_val = _tmp122_;
		_tmp123_ = _data3_->settings;
		_tmp124_ = _data3_->key;
		_tmp125_ = new_val;
		g_settings_set_value (_tmp123_, _tmp124_, _tmp125_);
		_tmp126_ = self->priv->add_entry;
		gtk_entry_set_text (_tmp126_, "");
		_g_variant_unref0 (new_val);
		new_child_list = (_vala_array_free (new_child_list, new_child_list_length1, (GDestroyNotify) g_variant_unref), NULL);
	}
	_g_free0 (type);
	_g_variant_unref0 (new_child);
}


static void ___lambda13__gtk_button_clicked (GtkButton* _sender, gpointer self) {
	__lambda13_ (self);
}


static void ___lambda16_ (configuratorWidgetsFieldsArrayInput* self, GtkWidget* item) {
	GtkListBox* _tmp0_ = NULL;
	GtkWidget* _tmp1_ = NULL;
	g_return_if_fail (item != NULL);
	_tmp0_ = self->priv->listbox;
	_tmp1_ = item;
	gtk_container_remove ((GtkContainer*) _tmp0_, _tmp1_);
}


static void ____lambda16__gfunc (gconstpointer data, gpointer self) {
	___lambda16_ ((configuratorWidgetsFieldsArrayInput*) self, (GtkWidget*) data);
}


static void __lambda15_ (Block3Data* _data3_, const gchar* k) {
	configuratorWidgetsFieldsArrayInput* self;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	self = _data3_->self;
	g_return_if_fail (k != NULL);
	_tmp0_ = k;
	_tmp1_ = _data3_->key;
	if (g_strcmp0 (_tmp0_, _tmp1_) == 0) {
		GtkListBox* _tmp2_ = NULL;
		GList* _tmp3_ = NULL;
		GList* _tmp4_ = NULL;
		GSettings* _tmp5_ = NULL;
		const gchar* _tmp6_ = NULL;
		GSettings* _tmp7_ = NULL;
		const gchar* _tmp8_ = NULL;
		GVariant* _tmp9_ = NULL;
		GVariant* _tmp10_ = NULL;
		_tmp2_ = self->priv->listbox;
		_tmp3_ = gtk_container_get_children ((GtkContainer*) _tmp2_);
		_tmp4_ = _tmp3_;
		g_list_foreach (_tmp4_, ____lambda16__gfunc, self);
		_g_list_free0 (_tmp4_);
		_tmp5_ = _data3_->settings;
		_tmp6_ = _data3_->key;
		_tmp7_ = _data3_->settings;
		_tmp8_ = _data3_->key;
		_tmp9_ = g_settings_get_value (_tmp7_, _tmp8_);
		_tmp10_ = _tmp9_;
		configurator_widgets_fields_array_input_display_value (self, _tmp5_, _tmp6_, _tmp10_);
		_g_variant_unref0 (_tmp10_);
	}
}


static void ___lambda15__g_settings_changed (GSettings* _sender, const gchar* key, gpointer self) {
	__lambda15_ (self, key);
}


configuratorWidgetsFieldsArrayInput* configurator_widgets_fields_array_input_construct (GType object_type, GSettings* settings, const gchar* key) {
	configuratorWidgetsFieldsArrayInput * self = NULL;
	Block3Data* _data3_;
	GSettings* _tmp0_ = NULL;
	GSettings* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	GtkPopover* _tmp4_ = NULL;
	GtkBox* _tmp5_ = NULL;
	GtkListBox* _tmp6_ = NULL;
	GtkListBox* _tmp7_ = NULL;
	GtkListBox* _tmp8_ = NULL;
	GtkBox* _tmp9_ = NULL;
	GtkListBox* _tmp10_ = NULL;
	GtkActionBar* _tmp11_ = NULL;
	GtkEntry* _tmp12_ = NULL;
	GtkEntry* _tmp13_ = NULL;
	GtkEntry* _tmp14_ = NULL;
	const gchar* _tmp15_ = NULL;
	GtkActionBar* _tmp16_ = NULL;
	GtkEntry* _tmp17_ = NULL;
	GtkButton* _tmp18_ = NULL;
	GtkButton* _tmp19_ = NULL;
	GtkActionBar* _tmp20_ = NULL;
	GtkButton* _tmp21_ = NULL;
	GtkBox* _tmp22_ = NULL;
	GtkActionBar* _tmp23_ = NULL;
	GtkPopover* _tmp24_ = NULL;
	GtkBox* _tmp25_ = NULL;
	GSettings* _tmp26_ = NULL;
	const gchar* _tmp27_ = NULL;
	GSettings* _tmp28_ = NULL;
	const gchar* _tmp29_ = NULL;
	GVariant* _tmp30_ = NULL;
	GVariant* _tmp31_ = NULL;
	GSettings* _tmp32_ = NULL;
	g_return_val_if_fail (settings != NULL, NULL);
	g_return_val_if_fail (key != NULL, NULL);
	_data3_ = g_slice_new0 (Block3Data);
	_data3_->_ref_count_ = 1;
	_tmp0_ = settings;
	_tmp1_ = _g_object_ref0 (_tmp0_);
	_g_object_unref0 (_data3_->settings);
	_data3_->settings = _tmp1_;
	_tmp2_ = key;
	_tmp3_ = g_strdup (_tmp2_);
	_g_free0 (_data3_->key);
	_data3_->key = _tmp3_;
	self = (configuratorWidgetsFieldsArrayInput*) g_object_new (object_type, NULL);
	_data3_->self = g_object_ref (self);
	_tmp4_ = (GtkPopover*) gtk_popover_new ((GtkWidget*) self);
	g_object_ref_sink (_tmp4_);
	_g_object_unref0 (self->priv->popover);
	self->priv->popover = _tmp4_;
	g_signal_connect_object ((GtkButton*) self, "clicked", (GCallback) ___lambda12__gtk_button_clicked, self, 0);
	_tmp5_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
	g_object_ref_sink (_tmp5_);
	_g_object_unref0 (self->priv->box);
	self->priv->box = _tmp5_;
	_tmp6_ = (GtkListBox*) gtk_list_box_new ();
	g_object_ref_sink (_tmp6_);
	_g_object_unref0 (self->priv->listbox);
	self->priv->listbox = _tmp6_;
	_tmp7_ = self->priv->listbox;
	gtk_widget_set_margin_top ((GtkWidget*) _tmp7_, 3);
	_tmp8_ = self->priv->listbox;
	gtk_widget_set_margin_bottom ((GtkWidget*) _tmp8_, 3);
	_tmp9_ = self->priv->box;
	_tmp10_ = self->priv->listbox;
	gtk_box_pack_start (_tmp9_, (GtkWidget*) _tmp10_, TRUE, TRUE, (guint) 0);
	_tmp11_ = (GtkActionBar*) gtk_action_bar_new ();
	g_object_ref_sink (_tmp11_);
	_g_object_unref0 (self->priv->action_bar);
	self->priv->action_bar = _tmp11_;
	_tmp12_ = (GtkEntry*) gtk_entry_new ();
	g_object_ref_sink (_tmp12_);
	_g_object_unref0 (self->priv->add_entry);
	self->priv->add_entry = _tmp12_;
	_tmp13_ = self->priv->add_entry;
	gtk_widget_set_hexpand ((GtkWidget*) _tmp13_, TRUE);
	_tmp14_ = self->priv->add_entry;
	_tmp15_ = _ ("New element");
	gtk_entry_set_placeholder_text (_tmp14_, _tmp15_);
	_tmp16_ = self->priv->action_bar;
	_tmp17_ = self->priv->add_entry;
	gtk_action_bar_pack_start (_tmp16_, (GtkWidget*) _tmp17_);
	_tmp18_ = (GtkButton*) gtk_button_new_from_icon_name ("list-add-symbolic", GTK_ICON_SIZE_BUTTON);
	g_object_ref_sink (_tmp18_);
	_g_object_unref0 (self->priv->add_button);
	self->priv->add_button = _tmp18_;
	_tmp19_ = self->priv->add_button;
	g_signal_connect_data (_tmp19_, "clicked", (GCallback) ___lambda13__gtk_button_clicked, block3_data_ref (_data3_), (GClosureNotify) block3_data_unref, 0);
	_tmp20_ = self->priv->action_bar;
	_tmp21_ = self->priv->add_button;
	gtk_action_bar_pack_end (_tmp20_, (GtkWidget*) _tmp21_);
	_tmp22_ = self->priv->box;
	_tmp23_ = self->priv->action_bar;
	gtk_box_pack_end (_tmp22_, (GtkWidget*) _tmp23_, TRUE, FALSE, (guint) 0);
	_tmp24_ = self->priv->popover;
	_tmp25_ = self->priv->box;
	gtk_container_add ((GtkContainer*) _tmp24_, (GtkWidget*) _tmp25_);
	_tmp26_ = _data3_->settings;
	_tmp27_ = _data3_->key;
	_tmp28_ = _data3_->settings;
	_tmp29_ = _data3_->key;
	_tmp30_ = g_settings_get_value (_tmp28_, _tmp29_);
	_tmp31_ = _tmp30_;
	configurator_widgets_fields_array_input_display_value (self, _tmp26_, _tmp27_, _tmp31_);
	_g_variant_unref0 (_tmp31_);
	_tmp32_ = _data3_->settings;
	g_signal_connect_data (_tmp32_, "changed", (GCallback) ___lambda15__g_settings_changed, block3_data_ref (_data3_), (GClosureNotify) block3_data_unref, 0);
	block3_data_unref (_data3_);
	_data3_ = NULL;
	return self;
}


configuratorWidgetsFieldsArrayInput* configurator_widgets_fields_array_input_new (GSettings* settings, const gchar* key) {
	return configurator_widgets_fields_array_input_construct (CONFIGURATOR_WIDGETS_FIELDS_TYPE_ARRAY_INPUT, settings, key);
}


static Block4Data* block4_data_ref (Block4Data* _data4_) {
	g_atomic_int_inc (&_data4_->_ref_count_);
	return _data4_;
}


static void block4_data_unref (void * _userdata_) {
	Block4Data* _data4_;
	_data4_ = (Block4Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data4_->_ref_count_)) {
		configuratorWidgetsFieldsArrayInput* self;
		self = _data4_->self;
		_g_object_unref0 (_data4_->settings);
		_g_free0 (_data4_->key);
		_g_variant_unref0 (_data4_->val);
		_g_object_unref0 (self);
		g_slice_free (Block4Data, _data4_);
	}
}


static Block5Data* block5_data_ref (Block5Data* _data5_) {
	g_atomic_int_inc (&_data5_->_ref_count_);
	return _data5_;
}


static void block5_data_unref (void * _userdata_) {
	Block5Data* _data5_;
	_data5_ = (Block5Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data5_->_ref_count_)) {
		configuratorWidgetsFieldsArrayInput* self;
		self = _data5_->_data4_->self;
		_g_variant_unref0 (_data5_->child);
		block4_data_unref (_data5_->_data4_);
		_data5_->_data4_ = NULL;
		g_slice_free (Block5Data, _data5_);
	}
}


static void ______lambda14_ (Block5Data* _data5_) {
	Block4Data* _data4_;
	configuratorWidgetsFieldsArrayInput* self;
	GVariant** new_child_list = NULL;
	gsize _tmp0_ = 0UL;
	GVariant** _tmp1_ = NULL;
	gint new_child_list_length1 = 0;
	gint _new_child_list_size_ = 0;
	gint new_child_list_counter = 0;
	GVariant* new_val = NULL;
	GVariant* _tmp14_ = NULL;
	const GVariantType* _tmp15_ = NULL;
	GVariant** _tmp16_ = NULL;
	gint _tmp16__length1 = 0;
	GVariant* _tmp17_ = NULL;
	GSettings* _tmp18_ = NULL;
	const gchar* _tmp19_ = NULL;
	_data4_ = _data5_->_data4_;
	self = _data4_->self;
	_tmp0_ = _data4_->childs;
	_tmp1_ = g_new0 (GVariant*, (_tmp0_ - 1) + 1);
	new_child_list = _tmp1_;
	new_child_list_length1 = _tmp0_ - 1;
	_new_child_list_size_ = new_child_list_length1;
	new_child_list_counter = 0;
	{
		gint c = 0;
		c = 0;
		{
			gboolean _tmp2_ = FALSE;
			_tmp2_ = TRUE;
			while (TRUE) {
				gint _tmp4_ = 0;
				gsize _tmp5_ = 0UL;
				gint _tmp6_ = 0;
				gint _tmp7_ = 0;
				if (!_tmp2_) {
					gint _tmp3_ = 0;
					_tmp3_ = c;
					c = _tmp3_ + 1;
				}
				_tmp2_ = FALSE;
				_tmp4_ = c;
				_tmp5_ = _data4_->childs;
				if (!(((gsize) _tmp4_) < _tmp5_)) {
					break;
				}
				_tmp6_ = c;
				_tmp7_ = _data5_->child_index;
				if (_tmp6_ != _tmp7_) {
					GVariant** _tmp8_ = NULL;
					gint _tmp8__length1 = 0;
					gint _tmp9_ = 0;
					GVariant* _tmp10_ = NULL;
					gint _tmp11_ = 0;
					GVariant* _tmp12_ = NULL;
					GVariant* _tmp13_ = NULL;
					_tmp8_ = new_child_list;
					_tmp8__length1 = new_child_list_length1;
					_tmp9_ = new_child_list_counter;
					new_child_list_counter = _tmp9_ + 1;
					_tmp10_ = _data4_->val;
					_tmp11_ = c;
					_tmp12_ = g_variant_get_child_value (_tmp10_, (gsize) _tmp11_);
					_g_variant_unref0 (_tmp8_[_tmp9_]);
					_tmp8_[_tmp9_] = _tmp12_;
					_tmp13_ = _tmp8_[_tmp9_];
				}
			}
		}
	}
	_tmp14_ = _data5_->child;
	_tmp15_ = g_variant_get_type (_tmp14_);
	_tmp16_ = new_child_list;
	_tmp16__length1 = new_child_list_length1;
	_tmp17_ = g_variant_new_array (_tmp15_, _tmp16_, _tmp16__length1);
	g_variant_ref_sink (_tmp17_);
	new_val = _tmp17_;
	_tmp18_ = _data4_->settings;
	_tmp19_ = _data4_->key;
	g_settings_set_value (_tmp18_, _tmp19_, new_val);
	_g_variant_unref0 (new_val);
	new_child_list = (_vala_array_free (new_child_list, new_child_list_length1, (GDestroyNotify) g_variant_unref), NULL);
}


static void _______lambda14__gtk_button_clicked (GtkButton* _sender, gpointer self) {
	______lambda14_ (self);
}


static void configurator_widgets_fields_array_input_display_value (configuratorWidgetsFieldsArrayInput* self, GSettings* settings, const gchar* key, GVariant* val) {
	Block4Data* _data4_;
	GSettings* _tmp0_ = NULL;
	GSettings* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	GVariant* _tmp4_ = NULL;
	GVariant* _tmp5_ = NULL;
	GVariant* _tmp6_ = NULL;
	gboolean _tmp7_ = FALSE;
	GVariant* _tmp8_ = NULL;
	gsize _tmp9_ = 0UL;
	const gchar* _tmp10_ = NULL;
	gsize _tmp11_ = 0UL;
	gchar* _tmp12_ = NULL;
	gchar* _tmp13_ = NULL;
	gchar* _tmp14_ = NULL;
	gchar* _tmp15_ = NULL;
	gsize _tmp16_ = 0UL;
	GtkListBox* _tmp70_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (settings != NULL);
	g_return_if_fail (key != NULL);
	g_return_if_fail (val != NULL);
	_data4_ = g_slice_new0 (Block4Data);
	_data4_->_ref_count_ = 1;
	_data4_->self = g_object_ref (self);
	_tmp0_ = settings;
	_tmp1_ = _g_object_ref0 (_tmp0_);
	_g_object_unref0 (_data4_->settings);
	_data4_->settings = _tmp1_;
	_tmp2_ = key;
	_tmp3_ = g_strdup (_tmp2_);
	_g_free0 (_data4_->key);
	_data4_->key = _tmp3_;
	_tmp4_ = val;
	_tmp5_ = _g_variant_ref0 (_tmp4_);
	_g_variant_unref0 (_data4_->val);
	_data4_->val = _tmp5_;
	_tmp6_ = _data4_->val;
	_tmp7_ = g_variant_is_container (_tmp6_);
	_vala_assert (_tmp7_, "val.is_container ()");
	_tmp8_ = _data4_->val;
	_tmp9_ = g_variant_n_children (_tmp8_);
	_data4_->childs = _tmp9_;
	_tmp10_ = _ ("%s elements");
	_tmp11_ = _data4_->childs;
	_tmp12_ = g_strdup_printf ("%" G_GSIZE_FORMAT, _tmp11_);
	_tmp13_ = _tmp12_;
	_tmp14_ = g_strdup_printf (_tmp10_, _tmp13_);
	_tmp15_ = _tmp14_;
	gtk_button_set_label ((GtkButton*) self, _tmp15_);
	_g_free0 (_tmp15_);
	_g_free0 (_tmp13_);
	_tmp16_ = _data4_->childs;
	if (_tmp16_ < ((gsize) 1)) {
		GtkLabel* no_items_label = NULL;
		const gchar* _tmp17_ = NULL;
		GtkLabel* _tmp18_ = NULL;
		GtkLabel* _tmp19_ = NULL;
		GtkStyleContext* _tmp20_ = NULL;
		GtkLabel* _tmp21_ = NULL;
		GtkLabel* _tmp22_ = NULL;
		GtkLabel* _tmp23_ = NULL;
		GtkLabel* _tmp24_ = NULL;
		GtkLabel* _tmp25_ = NULL;
		GtkLabel* _tmp26_ = NULL;
		GtkLabel* _tmp27_ = NULL;
		GtkLabel* _tmp28_ = NULL;
		GtkListBox* _tmp29_ = NULL;
		GtkLabel* _tmp30_ = NULL;
		_tmp17_ = _ ("No items found.");
		_tmp18_ = (GtkLabel*) gtk_label_new (_tmp17_);
		g_object_ref_sink (_tmp18_);
		no_items_label = _tmp18_;
		_tmp19_ = no_items_label;
		_tmp20_ = gtk_widget_get_style_context ((GtkWidget*) _tmp19_);
		gtk_style_context_add_class (_tmp20_, "h3");
		_tmp21_ = no_items_label;
		gtk_widget_set_hexpand ((GtkWidget*) _tmp21_, TRUE);
		_tmp22_ = no_items_label;
		gtk_widget_set_vexpand ((GtkWidget*) _tmp22_, TRUE);
		_tmp23_ = no_items_label;
		gtk_widget_set_halign ((GtkWidget*) _tmp23_, GTK_ALIGN_CENTER);
		_tmp24_ = no_items_label;
		gtk_widget_set_valign ((GtkWidget*) _tmp24_, GTK_ALIGN_CENTER);
		_tmp25_ = no_items_label;
		gtk_widget_set_margin_start ((GtkWidget*) _tmp25_, 6);
		_tmp26_ = no_items_label;
		gtk_widget_set_margin_end ((GtkWidget*) _tmp26_, 6);
		_tmp27_ = no_items_label;
		gtk_widget_set_size_request ((GtkWidget*) _tmp27_, -1, 60);
		_tmp28_ = no_items_label;
		gtk_widget_set_sensitive ((GtkWidget*) _tmp28_, FALSE);
		_tmp29_ = self->priv->listbox;
		_tmp30_ = no_items_label;
		gtk_container_add ((GtkContainer*) _tmp29_, (GtkWidget*) _tmp30_);
		_g_object_unref0 (no_items_label);
	} else {
		{
			gint i = 0;
			i = 0;
			{
				gboolean _tmp31_ = FALSE;
				_tmp31_ = TRUE;
				while (TRUE) {
					Block5Data* _data5_;
					gint _tmp33_ = 0;
					gsize _tmp34_ = 0UL;
					gint _tmp35_ = 0;
					GVariant* _tmp36_ = NULL;
					gint _tmp37_ = 0;
					GVariant* _tmp38_ = NULL;
					GtkBox* item = NULL;
					GtkBox* _tmp39_ = NULL;
					GtkBox* _tmp40_ = NULL;
					GtkBox* _tmp41_ = NULL;
					GtkLabel* item_number = NULL;
					gint _tmp42_ = 0;
					gchar* _tmp43_ = NULL;
					gchar* _tmp44_ = NULL;
					gchar* _tmp45_ = NULL;
					gchar* _tmp46_ = NULL;
					GtkLabel* _tmp47_ = NULL;
					GtkLabel* _tmp48_ = NULL;
					GtkLabel* _tmp49_ = NULL;
					GtkLabel* _tmp50_ = NULL;
					GtkLabel* _tmp51_ = NULL;
					GtkBox* _tmp52_ = NULL;
					GtkLabel* _tmp53_ = NULL;
					GtkLabel* item_content = NULL;
					GVariant* _tmp54_ = NULL;
					gchar* _tmp55_ = NULL;
					gchar* _tmp56_ = NULL;
					GtkLabel* _tmp57_ = NULL;
					GtkLabel* _tmp58_ = NULL;
					GtkLabel* _tmp59_ = NULL;
					GtkLabel* _tmp60_ = NULL;
					GtkBox* _tmp61_ = NULL;
					GtkLabel* _tmp62_ = NULL;
					GtkButton* item_remove_button = NULL;
					GtkButton* _tmp63_ = NULL;
					GtkButton* _tmp64_ = NULL;
					GtkButton* _tmp65_ = NULL;
					GtkBox* _tmp66_ = NULL;
					GtkButton* _tmp67_ = NULL;
					GtkListBox* _tmp68_ = NULL;
					GtkBox* _tmp69_ = NULL;
					_data5_ = g_slice_new0 (Block5Data);
					_data5_->_ref_count_ = 1;
					_data5_->_data4_ = block4_data_ref (_data4_);
					if (!_tmp31_) {
						gint _tmp32_ = 0;
						_tmp32_ = i;
						i = _tmp32_ + 1;
					}
					_tmp31_ = FALSE;
					_tmp33_ = i;
					_tmp34_ = _data4_->childs;
					if (!(((gsize) _tmp33_) < _tmp34_)) {
						block5_data_unref (_data5_);
						_data5_ = NULL;
						break;
					}
					_tmp35_ = i;
					_data5_->child_index = _tmp35_;
					_tmp36_ = _data4_->val;
					_tmp37_ = _data5_->child_index;
					_tmp38_ = g_variant_get_child_value (_tmp36_, (gsize) _tmp37_);
					_data5_->child = _tmp38_;
					_tmp39_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 6);
					g_object_ref_sink (_tmp39_);
					item = _tmp39_;
					_tmp40_ = item;
					gtk_widget_set_margin_start ((GtkWidget*) _tmp40_, 6);
					_tmp41_ = item;
					gtk_widget_set_margin_end ((GtkWidget*) _tmp41_, 6);
					_tmp42_ = _data5_->child_index;
					_tmp43_ = g_strdup_printf ("%i", _tmp42_);
					_tmp44_ = _tmp43_;
					_tmp45_ = g_strdup_printf ("<b>%s</b>", _tmp44_);
					_tmp46_ = _tmp45_;
					_tmp47_ = (GtkLabel*) gtk_label_new (_tmp46_);
					g_object_ref_sink (_tmp47_);
					_tmp48_ = _tmp47_;
					_g_free0 (_tmp46_);
					_g_free0 (_tmp44_);
					item_number = _tmp48_;
					_tmp49_ = item_number;
					gtk_label_set_use_markup (_tmp49_, TRUE);
					_tmp50_ = item_number;
					gtk_widget_set_halign ((GtkWidget*) _tmp50_, GTK_ALIGN_END);
					_tmp51_ = item_number;
					gtk_widget_set_valign ((GtkWidget*) _tmp51_, GTK_ALIGN_CENTER);
					_tmp52_ = item;
					_tmp53_ = item_number;
					gtk_box_pack_start (_tmp52_, (GtkWidget*) _tmp53_, FALSE, FALSE, (guint) 0);
					_tmp54_ = _data5_->child;
					_tmp55_ = configurator_utils_variant_to_string (_tmp54_);
					_tmp56_ = _tmp55_;
					_tmp57_ = (GtkLabel*) gtk_label_new (_tmp56_);
					g_object_ref_sink (_tmp57_);
					_tmp58_ = _tmp57_;
					_g_free0 (_tmp56_);
					item_content = _tmp58_;
					_tmp59_ = item_content;
					gtk_widget_set_halign ((GtkWidget*) _tmp59_, GTK_ALIGN_START);
					_tmp60_ = item_content;
					gtk_widget_set_valign ((GtkWidget*) _tmp60_, GTK_ALIGN_CENTER);
					_tmp61_ = item;
					_tmp62_ = item_content;
					gtk_box_pack_start (_tmp61_, (GtkWidget*) _tmp62_, TRUE, TRUE, (guint) 0);
					_tmp63_ = (GtkButton*) gtk_button_new_from_icon_name ("list-remove-symbolic", GTK_ICON_SIZE_BUTTON);
					g_object_ref_sink (_tmp63_);
					item_remove_button = _tmp63_;
					_tmp64_ = item_remove_button;
					gtk_button_set_relief (_tmp64_, GTK_RELIEF_NONE);
					_tmp65_ = item_remove_button;
					g_signal_connect_data (_tmp65_, "clicked", (GCallback) _______lambda14__gtk_button_clicked, block5_data_ref (_data5_), (GClosureNotify) block5_data_unref, 0);
					_tmp66_ = item;
					_tmp67_ = item_remove_button;
					gtk_box_pack_end (_tmp66_, (GtkWidget*) _tmp67_, FALSE, FALSE, (guint) 0);
					_tmp68_ = self->priv->listbox;
					_tmp69_ = item;
					gtk_container_add ((GtkContainer*) _tmp68_, (GtkWidget*) _tmp69_);
					_g_object_unref0 (item_remove_button);
					_g_object_unref0 (item_content);
					_g_object_unref0 (item_number);
					_g_object_unref0 (item);
					block5_data_unref (_data5_);
					_data5_ = NULL;
				}
			}
		}
	}
	_tmp70_ = self->priv->listbox;
	gtk_widget_show_all ((GtkWidget*) _tmp70_);
	block4_data_unref (_data4_);
	_data4_ = NULL;
}


static void configurator_widgets_fields_array_input_class_init (configuratorWidgetsFieldsArrayInputClass * klass) {
	configurator_widgets_fields_array_input_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (configuratorWidgetsFieldsArrayInputPrivate));
	G_OBJECT_CLASS (klass)->finalize = configurator_widgets_fields_array_input_finalize;
}


static void configurator_widgets_fields_array_input_instance_init (configuratorWidgetsFieldsArrayInput * self) {
	self->priv = CONFIGURATOR_WIDGETS_FIELDS_ARRAY_INPUT_GET_PRIVATE (self);
}


static void configurator_widgets_fields_array_input_finalize (GObject* obj) {
	configuratorWidgetsFieldsArrayInput * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, CONFIGURATOR_WIDGETS_FIELDS_TYPE_ARRAY_INPUT, configuratorWidgetsFieldsArrayInput);
	_g_object_unref0 (self->priv->popover);
	_g_object_unref0 (self->priv->box);
	_g_object_unref0 (self->priv->listbox);
	_g_object_unref0 (self->priv->action_bar);
	_g_object_unref0 (self->priv->add_entry);
	_g_object_unref0 (self->priv->add_button);
	G_OBJECT_CLASS (configurator_widgets_fields_array_input_parent_class)->finalize (obj);
}


GType configurator_widgets_fields_array_input_get_type (void) {
	static volatile gsize configurator_widgets_fields_array_input_type_id__volatile = 0;
	if (g_once_init_enter (&configurator_widgets_fields_array_input_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (configuratorWidgetsFieldsArrayInputClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) configurator_widgets_fields_array_input_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (configuratorWidgetsFieldsArrayInput), 0, (GInstanceInitFunc) configurator_widgets_fields_array_input_instance_init, NULL };
		GType configurator_widgets_fields_array_input_type_id;
		configurator_widgets_fields_array_input_type_id = g_type_register_static (gtk_button_get_type (), "configuratorWidgetsFieldsArrayInput", &g_define_type_info, 0);
		g_once_init_leave (&configurator_widgets_fields_array_input_type_id__volatile, configurator_widgets_fields_array_input_type_id);
	}
	return configurator_widgets_fields_array_input_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



